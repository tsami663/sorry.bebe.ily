<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>I'm Sorry, Love!</title>
  <style>
    body {
      font-family: 'Comic Sans MS', cursive, sans-serif;
      background: linear-gradient(to bottom, #ffccff, #ff99cc);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      margin: 0;
      overflow: hidden;
      color: #333;
      text-align: center;
    }
    h1 {
      font-size: 2.5em;
      color: #ff4d94;
      text-shadow: 2px 2px #fff;
      animation: pulse 2s infinite;
    }
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.1); }
      100% { transform: scale(1); }
    }
    .apology-text {
      font-size: 1.2em;
      margin: 20px;
      padding: 15px;
      background: #fff;
      border-radius: 10px;
      border: 2px solid #ff4d94;
      max-width: 500px;
    }
    .media-container {
      display: flex;
      gap: 20px;
      margin: 20px;
      flex-wrap: wrap;
      justify-content: center;
    }
    img, video {
      max-width: 300px;
      border-radius: 15px;
      border: 3px solid #ff66b2;
    }
    button {
      font-size: 1.5em;
      padding: 10px 20px;
      background: #ff66b2;
      color: white;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      transition: transform 0.3s, font-size 0.3s;
    }
    button:hover {
      background: #ff3399;
    }
    .annoying {
      animation: shake 0.5s infinite;
    }
    @keyframes shake {
      0% { transform: translateX(0); }
      25% { transform: translateX(-10px); }
      50% { transform: translateX(10px); }
      75% { transform: translateX(-10px); }
      100% { transform: translateX(0); }
    }
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }
    .modal-content {
      background: #fff;
      padding: 20px;
      border-radius: 15px;
      border: 3px solid #ff4d94;
      max-width: 600px;
      text-align: center;
      position: relative;
    }
    .modal-content img {
      max-width: 200px;
      margin-bottom: 15px;
    }
    .modal-content p {
      font-size: 1.1em;
      color: #333;
    }
    .close-button {
      font-size: 1.2em;
      color: #ff4d94;
      cursor: pointer;
      position: absolute;
      top: 10px;
      right: 20px;
    }
  </style>
</head>
<body>
  <h1>I'm So Sorry, My Love! ðŸ˜­</h1>

  <div class="apology-text" id="apologyText">
    Bebe, sorry jud kaayo ko kung napasakitan tika or nagkulang ko. ðŸ¥ºðŸ’•
  </div>

  <div class="media-container">
    <img src="images/528167571_2652069641804306_17602123091706032_n.jpg" alt="Cute Heart">
    <video controls>
      <source src="https://www.w3schools.com/html/mov_bbb.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>
  </div>

  <button id="sorryButton" onclick="makeAnnoying()">Please Forgive Me!</button>

  <div id="surpriseModal" class="modal">
    <div class="modal-content">
      <span class="close-button" onclick="closeModal()">&times;</span>
      <img src="images/517940061_707878778738143_4701373330975798104_n.jpg" alt="Us Together">
      <p>
        I'm sorry, bebe. Maybe it's unusual for you that I'm sending this, especially since it's not our monthsary. To be honest, Iâ€™ve always wanted to give you something on July 7, our monthsary. I was thinking of making you a handmade gift for a change of pace, like cards with photos of us attachedâ€”something along those lines (pero naunhan man ko nimo, bebe. Embarrassing siya, pero na-appreciate nako to be hehe). Hahaha. But I didnâ€™t make it because si ams has no sense of privacy, and she would just go through things without asking us first. So from now on, I'll just stick to making stuff like this, and I really hope you appreciate it. At the same time, Iâ€™m not confident I can make a letter since, well, I'm not really great at expressing my feelings verbally.

        So, uhm, I'm sorry if our time to interact has lessened, which caused us to argue. Sorry, bebe, and thank you ðŸ¤Ÿ
      </p>
    </div>
  </div>

  <!-- Audio for confetti pop -->
  <audio id="confettiSound" src="assets/confetti-pop-sound-effect.mp3" preload="auto"></audio>

  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
  <script>
    let clickCount = 0;
    const button = document.getElementById('sorryButton');
    const apologyText = document.getElementById('apologyText');
    const modal = document.getElementById('surpriseModal');
    const confettiSound = document.getElementById('confettiSound');

    function makeAnnoying() {
      clickCount++;
      const scale = 1 + clickCount * 0.2;
      button.style.transform = `scale(${scale})`;
      button.style.fontSize = `${1.5 + clickCount * 0.3}em`;
      button.classList.add('annoying');

      if (clickCount === 3) {
        apologyText.textContent = "I'm REALLY sorry! ðŸ’”";
      } else if (clickCount === 5) {
        apologyText.textContent = "I'M BEGGING YOU! Forgive me, my one and only! ðŸ˜­ðŸ˜­";
      } else if (clickCount >= 7) {
        apologyText.textContent = "I hope you forgive me, sorry, and I love u bebe xoxo! ðŸ¥°";
        button.textContent = "I LOVE YOU FOREVER!";
        button.onclick = null;
        showModalWithEffects();
      }
    }

    function showModalWithEffects() {
      modal.style.display = 'flex';

      // Play confetti sound
      confettiSound.volume = 1.0;
      confettiSound.currentTime = 0;
      confettiSound.play().catch(e => console.log("Autoplay issue:", e));

      // Confetti burst
      confetti({
        particleCount: 100,
        spread: 100,
        origin: { y: 0.6 }
      });
    }

    function closeModal() {
      modal.style.display = 'none';
    }

    window.onclick = function(event) {
      if (event.target === modal) {
        modal.style.display = 'none';
      }
    }
  </script>
</body>
</html>

